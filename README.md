# Logseq - LaTex Formula OCR

This plugin is used to convert **LaTex formula images** from the clipboard **into LaTex code** using Transformers.

**Use cases:**

- Preparation of scientific presentations or papers
- Transcribing lectures
- Technical reports
- Self-study

(For me it was useful because I hate copying formulas by hand and I hate pasting screenshots of formulas into LogseqðŸ˜…)

---

## Requirements

- [Logseq](https://logseq.com/)
- [Hugging Face User Access Token](https://huggingface.co/docs/hub/security-tokens)
- [Node.js](https://nodejs.org/en)
- [Yarn](https://yarnpkg.com/)
- [Parcel](https://parceljs.org/)
---

## Install

**Option 1: manual installation**

```console
git clone https://github.com/olmobaldoni/logseq-formula-ocr-plugin.git
cd logseq-formula-ocr-plugin
yarn 
yarn build 
```
In Logseq:

- Enable developer mode: `Logseq > Settings > Advanced > Developer mode`
- Import Plugin: `Logseq > Plugins > Load unpacked plugin` and point to the cloned repo.

**Option 2: installation from marketplace**

In Logseq:

- Search for the `LaTex Formula OCR` plugin directly in the marketplace.

---

## Settings

In Hugging Face: `Settings > Access Tokens > New Token > Name+Role(read) > Generate a token`

In Logseq: `Plugins Settings > LaTex Formula OCR > Hugging Face User Access Token` and paste the token.

---

## Commands

**/formula-ocr**: returns the LaTex code of the image in the clipboard

> **Notes**: 
> + The image in the clipboard must be a LaTex formula image
> + The initial command may be delayed for about 1 minute due to the loading of the model in Hugging Face or when not used for a long time
> + With the free Hugging Face plan you can make about 30k calls per month (more than enough I would say)

---

## Demo

- ### Demo 1

![Demo 1](./demo_1.gif)

- ### Demo 2

![Demo 2](./demo_2.gif)

---

## Acknowledgements


This plugin is based on [nougat-latex-base](https://huggingface.co/Norm/nougat-latex-base), a fine-tuning of [facebook/nougat-base](https://huggingface.co/facebook/nougat-base) with [im2latex-100k](https://zenodo.org/records/56198#.V2px0jXT6eA), and made by [NormXU](https://github.com/NormXU).

In addition, this plugin was also inspired by [xxchan](https://github.com/xxchan) and its plugin [logseq-ocr](https://github.com/xxchan/logseq-ocr)

---

## License

MIT


[//begin]: # "Autogenerated link references for markdown compatibility"
